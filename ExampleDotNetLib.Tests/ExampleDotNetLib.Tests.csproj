<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <Import Project="..\packages\NUnit3TestAdapter.3.17.0\build\net35\NUnit3TestAdapter.props" Condition="Exists('..\packages\NUnit3TestAdapter.3.17.0\build\net35\NUnit3TestAdapter.props')" />
  <Import Project="..\packages\NUnit.3.13.3\build\NUnit.props" Condition="Exists('..\packages\NUnit.3.13.3\build\NUnit.props')" />
  <Import Project="$(MSBuildExtensionsPath)\$(MSBuildToolsVersion)\Microsoft.Common.props" Condition="Exists('$(MSBuildExtensionsPath)\$(MSBuildToolsVersion)\Microsoft.Common.props')" />
  
  <PropertyGroup>
    <TargetFrameworkVersion>v4.8</TargetFrameworkVersion>
    <OutputType>Library</OutputType>
    <IsPackable>false</IsPackable>
    <OutputPath>bin\$(Configuration)\net48\</OutputPath>
  </PropertyGroup>

  <ItemGroup>
    <Reference Include="System" />
    <Reference Include="System.Core" />
    <Reference Include="Microsoft.CSharp" />
  </ItemGroup>

  <ItemGroup>
      <Compile Include="UnitTest1.cs" />
  </ItemGroup>

  <ItemGroup>
    <PackageReference Include="NUnit" Version="3.13.3" />
    <PackageReference Include="NUnit3TestAdapter" Version="4.5.0" />
  </ItemGroup>

  <ItemGroup>
    <Using Include="nunit.framework" />
  </ItemGroup>

  <ItemGroup>
    <ProjectReference Include="..\ExampleDotNetLib\ExampleDotNetLib.csproj" />
  </ItemGroup>

  <!-- Target para criar diretórios necessários -->
  <Target Name="CreateDirectories">
    <MakeDir Directories="$(OutputPath)" />
  </Target>

  <!-- Target de Build que depende de CreateDirectories -->
  <Target Name="Build" DependsOnTargets="CreateDirectories">
    <Csc Sources="@(Compile)" OutputAssembly="$(OutputPath)ExampleDotNetLib.Tests.dll" TargetType="Library" />
  </Target>
</Project>
